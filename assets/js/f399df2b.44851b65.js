"use strict";(self.webpackChunktestdocu=self.webpackChunktestdocu||[]).push([[4149],{3905:function(e,n,E){E.d(n,{Zo:function(){return L},kt:function(){return _}});var a=E(67294);function t(e,n,E){return n in e?Object.defineProperty(e,n,{value:E,enumerable:!0,configurable:!0,writable:!0}):e[n]=E,e}function T(e,n){var E=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),E.push.apply(E,a)}return E}function N(e){for(var n=1;n<arguments.length;n++){var E=null!=arguments[n]?arguments[n]:{};n%2?T(Object(E),!0).forEach((function(n){t(e,n,E[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(E)):T(Object(E)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(E,n))}))}return e}function r(e,n){if(null==e)return{};var E,a,t=function(e,n){if(null==e)return{};var E,a,t={},T=Object.keys(e);for(a=0;a<T.length;a++)E=T[a],n.indexOf(E)>=0||(t[E]=e[E]);return t}(e,n);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(e);for(a=0;a<T.length;a++)E=T[a],n.indexOf(E)>=0||Object.prototype.propertyIsEnumerable.call(e,E)&&(t[E]=e[E])}return t}var O=a.createContext({}),i=function(e){var n=a.useContext(O),E=n;return e&&(E="function"==typeof e?e(n):N(N({},n),e)),E},L=function(e){var n=i(e.components);return a.createElement(O.Provider,{value:n},e.children)},R={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},A=a.forwardRef((function(e,n){var E=e.components,t=e.mdxType,T=e.originalType,O=e.parentName,L=r(e,["components","mdxType","originalType","parentName"]),A=i(E),_=t,I=A["".concat(O,".").concat(_)]||A[_]||R[_]||T;return E?a.createElement(I,N(N({ref:n},L),{},{components:E})):a.createElement(I,N({ref:n},L))}));function _(e,n){var E=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var T=E.length,N=new Array(T);N[0]=A;var r={};for(var O in n)hasOwnProperty.call(n,O)&&(r[O]=n[O]);r.originalType=e,r.mdxType="string"==typeof e?e:t,N[1]=r;for(var i=2;i<T;i++)N[i]=E[i];return a.createElement.apply(null,N)}return a.createElement.apply(null,E)}A.displayName="MDXCreateElement"},7574:function(e,n,E){E.r(n),E.d(n,{frontMatter:function(){return r},contentTitle:function(){return O},metadata:function(){return i},toc:function(){return L},default:function(){return A}});var a=E(87462),t=E(63366),T=(E(67294),E(3905)),N=["components"],r={sidebar_position:1},O="\uacf5\ud1b5\ubaa8\ub4c8",i={unversionedId:"\uc124\uce58 \ub9e4\ub274\uc5bc/\uacf5\ud1b5\ubaa8\ub4c8/\uacf5\ud1b5\ubaa8\ub4c8",id:"\uc124\uce58 \ub9e4\ub274\uc5bc/\uacf5\ud1b5\ubaa8\ub4c8/\uacf5\ud1b5\ubaa8\ub4c8",isDocsHomePage:!1,title:"\uacf5\ud1b5\ubaa8\ub4c8",description:"Accuinsight 3.0 \uacf5\ud1b5\ubaa8\ub4c8 \uc124\uce58 \ubc29\ubc95",source:"@site/docs/\uc124\uce58 \ub9e4\ub274\uc5bc/\uacf5\ud1b5\ubaa8\ub4c8/\uacf5\ud1b5\ubaa8\ub4c8.md",sourceDirName:"\uc124\uce58 \ub9e4\ub274\uc5bc/\uacf5\ud1b5\ubaa8\ub4c8",slug:"/\uc124\uce58 \ub9e4\ub274\uc5bc/\uacf5\ud1b5\ubaa8\ub4c8/\uacf5\ud1b5\ubaa8\ub4c8",permalink:"/docs/\uc124\uce58 \ub9e4\ub274\uc5bc/\uacf5\ud1b5\ubaa8\ub4c8/\uacf5\ud1b5\ubaa8\ub4c8",editUrl:"https://gitlab.twolinecode.com/sk-cnc/aiip/doc-frontend/docs/\uc124\uce58 \ub9e4\ub274\uc5bc/\uacf5\ud1b5\ubaa8\ub4c8/\uacf5\ud1b5\ubaa8\ub4c8.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Workflow\ubaa8\ub4c8",permalink:"/docs/\uc124\uce58 \ub9e4\ub274\uc5bc/Workflow\ubaa8\ub4c8/Workflow\ubaa8\ub4c8"}},L=[{value:"Requirements",id:"requirements",children:[]},{value:"Namespace \uc0dd\uc131",id:"namespace-\uc0dd\uc131",children:[]},{value:"DATABASE \uc0dd\uc131",id:"database-\uc0dd\uc131",children:[]},{value:"\uae30\ubcf8 \ub370\uc774\ud130 INSERT",id:"\uae30\ubcf8-\ub370\uc774\ud130-insert",children:[]},{value:"PV, PVC \uc124\uc815",id:"pv-pvc-\uc124\uc815",children:[]},{value:"Secret \uc124\uc815",id:"secret-\uc124\uc815",children:[]},{value:"ConfigMap \uc124\uc815",id:"configmap-\uc124\uc815",children:[]},{value:"Deployment",id:"deployment",children:[]},{value:"Service",id:"service",children:[]},{value:"\ubc30\ud3ec \ud655\uc778",id:"\ubc30\ud3ec-\ud655\uc778",children:[]}],R={toc:L};function A(e){var n=e.components,E=(0,t.Z)(e,N);return(0,T.kt)("wrapper",(0,a.Z)({},R,E,{components:n,mdxType:"MDXLayout"}),(0,T.kt)("h1",{id:"\uacf5\ud1b5\ubaa8\ub4c8"},"\uacf5\ud1b5\ubaa8\ub4c8"),(0,T.kt)("p",null,"Accuinsight 3.0 \uacf5\ud1b5\ubaa8\ub4c8 \uc124\uce58 \ubc29\ubc95"),(0,T.kt)("h2",{id:"requirements"},"Requirements"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"aws configure \uc815\ubcf4",(0,T.kt)("ul",{parentName:"li"},(0,T.kt)("li",{parentName:"ul"},"k8s \ub2f4\ub2f9\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694."))),(0,T.kt)("li",{parentName:"ul"},"aiip-integrated image\ub97c \ubc1b\uc744 \uc218 \uc788\ub294 ECR \uacbd\ub85c",(0,T.kt)("ul",{parentName:"li"},(0,T.kt)("li",{parentName:"ul"},"\ubcf8 \uba54\ub274\uc5bc\uc5d0\uc11c\ub294 harbor.accuinsight.net\uc5d0 \uad6c\uc131\ub41c \uacbd\ub85c\ub97c \uc0ac\uc6a9\ud558\uc600\uc2b5\ub2c8\ub2e4."),(0,T.kt)("li",{parentName:"ul"},"ECR\uc774 \ubcc0\uacbd\ub418\uba74 \uc544\ub798 yml \ud30c\uc77c \uc911 \ud574\ub2f9 \ubd80\ubd84\uc744 \ubcc0\uacbd\ud558\uc2dc\uba74 \ub429\ub2c8\ub2e4."))),(0,T.kt)("li",{parentName:"ul"},"\ud544\uc694\ud55c yml \ud30c\uc77c",(0,T.kt)("ul",{parentName:"li"},(0,T.kt)("li",{parentName:"ul"},"\uc544\ub798\uc5d0 \ud14d\uc2a4\ud2b8\ub85c \uc9c1\uc811 \ubd99\uc600\uc2b5\ub2c8\ub2e4."),(0,T.kt)("li",{parentName:"ul"},"\uac01 \ud30c\uc77c \uc774\ub984\uc5d0 \ub9de\uac8c \ub9cc\ub4dc\uc2dc\uba74 \ub429\ub2c8\ub2e4.")))),(0,T.kt)("h2",{id:"namespace-\uc0dd\uc131"},"Namespace \uc0dd\uc131"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"\uc544\ub798 \ub0b4\uc6a9\uc744 \ubcf5\uc0ac\ud558\uc5ec prod-namespace.yaml\uc744 \ub9cc\ub4e4\uace0 apply \ud558\uc138\uc694.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f prod-namespace.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: aiip-common\n")))),(0,T.kt)("h2",{id:"database-\uc0dd\uc131"},"DATABASE \uc0dd\uc131"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"DB\uc5d0 \uc811\uc18d\ud558\uc5ec \uc544\ub798 DDL\uc744 \uc2e4\ud589\ud558\uc5ec DATABASE\ub97c \uc0dd\uc131 \ud569\ub2c8\ub2e4.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-ddl"},"CREATE DATABASE `aiip_integrated_db` /*!40100 DEFAULT CHARACTER SET utf8 */;\n\nCREATE TABLE `TBL_PROJECT` (\n  `ID` bigint(20) NOT NULL AUTO_INCREMENT,\n  `NAME` varchar(50) NOT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `THUMB_TYPE` varchar(10) NOT NULL COMMENT 'BASE64, EMOJI',\n  `THUMB` text NOT NULL COMMENT 'BASE64 IMAGE OR EMOJI UNICODE',\n  `CLUSTER_ID` bigint(20) NOT NULL,\n  `RESOURCE_TYPE` varchar(10) NOT NULL,\n  `CPU_QUOTA` float NOT NULL,\n  `MEM_QUOTA` float NOT NULL,\n  `GPU_QUOTA` float NOT NULL,\n  `REPLICA_QUOTA` int(11) NOT NULL,\n  `LIVY_ID` varchar(50) DEFAULT NULL COMMENT '\ub370\uc774\ud130 \ud0c0\uc785\uc740 \ucc28\ud6c4 \ud655\uc778 \ud6c4 \ubcc0\uacbd \ud544\uc694',\n  `LIVY_ALLOCATED_AT` datetime NOT NULL DEFAULT current_timestamp() COMMENT 'LIVY \uc138\uc158 \ud560\ub2f9\uc77c\uc2dc',\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`),\n  UNIQUE KEY `UK_PROJECT_NAME` (`ID`,`NAME`)\n);\n\nCREATE TABLE `TBL_ROLE` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  `NAME` varchar(50) NOT NULL,\n  `TITLE` varchar(50) NOT NULL,\n  `ICON_NAME` varchar(50) NOT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `SCOPE_PROJECT` varchar(5) NOT NULL COMMENT '\ud504\ub85c\uc81d\ud2b8 \uad8c\ud55c CRUD : C-\uc0dd\uc131, R-\uc77d\uae30, U-\uc218\uc815, D-\uc0ad\uc81c',\n  `SCOPE_RESOURCE` varchar(5) NOT NULL COMMENT '\ud504\ub85c\uc81d\ud2b8 \ub9ac\uc18c\uc2a4 \uad8c\ud55c CRUD : C-\uc0dd\uc131, R-\uc77d\uae30, U-\uc218\uc815, D-\uc0ad\uc81c',\n  `SCOPE_WORKFLOW` varchar(5) NOT NULL COMMENT '\ud504\ub85c\uc81d\ud2b8 \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uad8c\ud55c CRUD : C-\uc0dd\uc131, R-\uc77d\uae30, U-\uc218\uc815, D-\uc0ad\uc81c',\n  `SCOPE_USER` varchar(5) NOT NULL COMMENT '\ud504\ub85c\uc81d\ud2b8 \uc0ac\uc6a9\uc790 \uad8c\ud55c CRUD : C-\uc0dd\uc131, R-\uc77d\uae30, U-\uc218\uc815, D-\uc0ad\uc81c',\n  `CREATOR` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIER` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`)\n);\n\nCREATE TABLE `TBL_USER` (\n  `ID` varchar(50) NOT NULL,\n  `NAME` varchar(50) NOT NULL,\n  `GROUP` varchar(50) NOT NULL,\n  `SCOPE` varchar(50) NOT NULL,\n  `ON_BOARDING` varchar(1024) DEFAULT NULL,\n  `IS_BLOCK` varchar(1) NOT NULL DEFAULT 'N',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`)\n);\n\nCREATE TABLE `TBL_PROJECT_USER_MAPPING` (\n  `PROJECT_ID` bigint(20) NOT NULL,\n  `USER_ID` varchar(50) NOT NULL,\n  `ROLE_ID` int(11) NOT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`PROJECT_ID`,`USER_ID`),\n  KEY `FK_PROJECT_USER_MAPPING_ROLE_ID` (`ROLE_ID`),\n  KEY `FK_PROJECT_USER_MAPPING_USER_ID` (`USER_ID`),\n  CONSTRAINT `FK_PROJECT_USER_MAPPING_PROJECT_ID` FOREIGN KEY (`PROJECT_ID`) REFERENCES `TBL_PROJECT` (`ID`) ON DELETE CASCADE,\n  CONSTRAINT `FK_PROJECT_USER_MAPPING_ROLE_ID` FOREIGN KEY (`ROLE_ID`) REFERENCES `TBL_ROLE` (`ID`),\n  CONSTRAINT `FK_PROJECT_USER_MAPPING_USER_ID` FOREIGN KEY (`USER_ID`) REFERENCES `TBL_USER` (`ID`) ON DELETE CASCADE\n);\n\nCREATE TABLE `TBL_THUMB_CATEGORY` (\n  `SEQ` int(11) NOT NULL AUTO_INCREMENT,\n  `NAME` varchar(50) NOT NULL,\n  `IMAGE` text NOT NULL,\n  `CREATOR` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIER` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`SEQ`)\n);\n\nCREATE TABLE `TBL_THUMB` (\n  `SEQ` bigint(20) NOT NULL AUTO_INCREMENT,\n  `CATEGORY_SEQ` int(11) NOT NULL,\n  `NAME` varchar(50) NOT NULL,\n  `IMAGE` varchar(50) NOT NULL,\n  `CREATOR` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIER` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`SEQ`),\n  KEY `FK_TBL_THUMB_CATEGORY_SEQ` (`CATEGORY_SEQ`) USING BTREE,\n  CONSTRAINT `FK_TBL_THUMB_CATEGORY_SEQ` FOREIGN KEY (`CATEGORY_SEQ`) REFERENCES `TBL_THUMB_CATEGORY` (`SEQ`) ON DELETE CASCADE\n);\n\nCREATE TABLE `TBL_THUMB_RECENT` (\n  `THUMB_SEQ` bigint(20) NOT NULL,\n  `USER_ID` varchar(50) NOT NULL,\n  `USE_COUNT` int(11) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`THUMB_SEQ`,`USER_ID`),\n  KEY `FK_THUMB_RECENT_USER_ID` (`USER_ID`),\n  CONSTRAINT `FK_THUMB_RECENT_THUMB_SEQ` FOREIGN KEY (`THUMB_SEQ`) REFERENCES `TBL_THUMB` (`SEQ`) ON DELETE CASCADE,\n  CONSTRAINT `FK_THUMB_RECENT_USER_ID` FOREIGN KEY (`USER_ID`) REFERENCES `TBL_USER` (`ID`) ON DELETE CASCADE\n);\n\nCREATE TABLE `TBL_RESOURCE` (\n  `TYPE` varchar(10) NOT NULL,\n  `TARGET` varchar(10) NOT NULL,\n  `NAME` varchar(10) NOT NULL,\n  `INFO` text NOT NULL,\n  `CPU` float DEFAULT NULL COMMENT '\uc0ad\uc81c \uc608\uc815',\n  `MEM` float DEFAULT NULL COMMENT '\uc0ad\uc81c \uc608\uc815',\n  `REPLICA` int(11) DEFAULT NULL COMMENT '\uc0ad\uc81c \uc608\uc815',\n  `PRICE` varchar(50) DEFAULT NULL COMMENT '\uc0ad\uc81c \uc608\uc815',\n  `INSTANCE` varchar(50) DEFAULT NULL COMMENT '\uc0ad\uc81c \uc608\uc815',\n  `CREATOR` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIER` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`TYPE`,`TARGET`)\n);\n\nCREATE TABLE `TBL_PROJECT_HISTORY` (\n  `SEQ` bigint(20) NOT NULL AUTO_INCREMENT,\n  `PROJECT_ID` bigint(20) NOT NULL,\n  `USER_ID` varchar(50) NOT NULL,\n  `ACTION` varchar(50) NOT NULL,\n  `TARGET` varchar(50) NOT NULL,\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`SEQ`),\n  KEY `FK_PROJECT_HISTORY_PROJECT_ID` (`PROJECT_ID`),\n  CONSTRAINT `FK_PROJECT_HISTORY_PROJECT_ID` FOREIGN KEY (`PROJECT_ID`) REFERENCES `TBL_PROJECT` (`ID`) ON DELETE CASCADE\n);\n\nCREATE TABLE `TBL_PROJECT_USER_BOOKMARK_MAPPING` (\n  `PROJECT_ID` bigint(20) NOT NULL,\n  `USER_ID` varchar(50) NOT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`PROJECT_ID`,`USER_ID`),\n  KEY `FK_PROJECT_USER_BOOKMARK_MAPPING_USER_ID` (`USER_ID`),\n  CONSTRAINT `FK_PROJECT_USER_BOOKMARK_MAPPING_PROJECT_ID` FOREIGN KEY (`PROJECT_ID`) REFERENCES `TBL_PROJECT` (`ID`) ON DELETE CASCADE,\n  CONSTRAINT `FK_PROJECT_USER_BOOKMARK_MAPPING_USER_ID` FOREIGN KEY (`USER_ID`) REFERENCES `TBL_USER` (`ID`) ON DELETE CASCADE\n);\n\nCREATE TABLE `TBL_DOMAIN` (\n  `CODE` varchar(50) NOT NULL,\n  `NAME` varchar(50) NOT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `CREATOR` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIER` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`CODE`)\n);\n\nCREATE TABLE `TBL_DATASET_ASSET` (\n  `ID` bigint(20) NOT NULL AUTO_INCREMENT,\n  `NAME` varchar(50) NOT NULL,\n  `PROJECT_ID` bigint(20) DEFAULT NULL,\n  `PROJECT_NAME` varchar(50) DEFAULT NULL,\n  `WORKFLOW_ID` bigint(20) DEFAULT NULL,\n  `DOMAIN_CODE` varchar(50) DEFAULT NULL,\n  `SHARE` int(11) NOT NULL COMMENT '0: \uc784\uc2dc\uc800\uc7a5, 1: \uc790\uc2e0, 2:\ud504\ub85c\uc81d\ud2b8, 3:\uae00\ub85c\ubc8c',\n  `FILE_LOCATION` text NOT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`),\n  KEY `FK_DATASET_ASSET_PROJECT_ID` (`PROJECT_ID`),\n  KEY `FK_DATASET_ASSET_DOMAIN_CODE` (`DOMAIN_CODE`),\n  KEY `FK_DATASET_ASSET_PROJECT_NAME` (`PROJECT_ID`,`PROJECT_NAME`),\n  CONSTRAINT `FK_DATASET_ASSET_DOMAIN_CODE` FOREIGN KEY (`DOMAIN_CODE`) REFERENCES `TBL_DOMAIN` (`CODE`),\n  CONSTRAINT `FK_DATASET_ASSET_PROJECT_ID` FOREIGN KEY (`PROJECT_ID`) REFERENCES `TBL_PROJECT` (`ID`) ON DELETE SET NULL,\n  CONSTRAINT `FK_DATASET_ASSET_PROJECT_NAME` FOREIGN KEY (`PROJECT_ID`, `PROJECT_NAME`) REFERENCES `TBL_PROJECT` (`ID`, `NAME`) ON DELETE NO ACTION ON UPDATE CASCADE\n);\n\nCREATE TABLE `TBL_WORKFLOW_ASSET` (\n  `ID` bigint(20) NOT NULL AUTO_INCREMENT,\n  `TYPE` varchar(20) NOT NULL DEFAULT 'NORMAL',\n  `NAME` varchar(50) NOT NULL,\n  `PROJECT_ID` bigint(20) DEFAULT NULL,\n  `PROJECT_NAME` varchar(50) DEFAULT NULL,\n  `DOMAIN_CODE` varchar(50) DEFAULT NULL,\n  `SHARE` int(11) NOT NULL COMMENT '0: \uc784\uc2dc\uc800\uc7a5, 1: \uc790\uc2e0, 2:\ud504\ub85c\uc81d\ud2b8, 3:\uae00\ub85c\ubc8c',\n  `FILE_LOCATION` text DEFAULT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `DATASET_ASSET_ID` bigint(20) DEFAULT NULL COMMENT 'NULL\uc77c \uacbd\uc6b0 ASSET, \uac12\uc774 \uc788\uc744 \uacbd\uc6b0 SNAPSHOT',\n  `NODE_DATA` longtext NOT NULL,\n  `REPORT_COUNT` int(11) DEFAULT NULL,\n  `SANDBOX_YN` varchar(1) DEFAULT NULL,\n  `MODEL_YN` varchar(1) DEFAULT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`),\n  KEY `FK_WORKFLOW_ASSET_PROJECT_ID` (`PROJECT_ID`),\n  KEY `FK_WORKFLOW_ASSET_DOMAIN_CODE` (`DOMAIN_CODE`),\n  KEY `FK_WORKFLOW_ASSET_DATASET_ASSET_ID` (`DATASET_ASSET_ID`),\n  KEY `FK_WORKFLOW_ASSET_PROJECT_NAME` (`PROJECT_ID`,`PROJECT_NAME`),\n  CONSTRAINT `FK_WORKFLOW_ASSET_DATASET_ASSET_ID` FOREIGN KEY (`DATASET_ASSET_ID`) REFERENCES `TBL_DATASET_ASSET` (`ID`) ON DELETE CASCADE,\n  CONSTRAINT `FK_WORKFLOW_ASSET_DOMAIN_CODE` FOREIGN KEY (`DOMAIN_CODE`) REFERENCES `TBL_DOMAIN` (`CODE`),\n  CONSTRAINT `FK_WORKFLOW_ASSET_PROJECT_ID` FOREIGN KEY (`PROJECT_ID`) REFERENCES `TBL_PROJECT` (`ID`) ON DELETE SET NULL,\n  CONSTRAINT `FK_WORKFLOW_ASSET_PROJECT_NAME` FOREIGN KEY (`PROJECT_ID`, `PROJECT_NAME`) REFERENCES `TBL_PROJECT` (`ID`, `NAME`) ON DELETE NO ACTION ON UPDATE CASCADE\n);\n\nCREATE TABLE `TBL_NAMESPACE` (\n  `ID` bigint(20) NOT NULL AUTO_INCREMENT,\n  `NAME` varchar(55) NOT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `NAMESPACE_TYPE` varchar(10) NOT NULL,\n  `RESOURCE_TYPE` varchar(10) NOT NULL,\n  `CPU_QUOTA` float NOT NULL,\n  `MEM_QUOTA` float NOT NULL,\n  `GPU_QUOTA` float NOT NULL,\n  `PROJECT_ID` bigint(20) DEFAULT NULL,\n  `CLUSTER_ID` bigint(20) NOT NULL,\n  `MODELER_NS_ID` bigint(20) NOT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`),\n  KEY `FK_NAMESPACE_PROJECT_ID` (`PROJECT_ID`),\n  CONSTRAINT `FK_NAMESPACE_PROJECT_ID` FOREIGN KEY (`PROJECT_ID`) REFERENCES `TBL_PROJECT` (`ID`) ON DELETE SET NULL\n);\n\nCREATE TABLE `TBL_CONFIG` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  `KEY` varchar(64) NOT NULL,\n  `VALUE` varchar(1024) NOT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `CREATOR` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIER` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`)\n);\n\nCREATE TABLE `TBL_ADMIN_CONTACT` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  `NAME` varchar(50) NOT NULL,\n  `GROUP` varchar(50) NOT NULL,\n  `EMAIL` varchar(100) NOT NULL,\n  `TEL` varchar(20) NOT NULL,\n  `ENABLE_YN` varchar(1) NOT NULL DEFAULT 'N',\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`)\n);\n\nCREATE TABLE `TBL_NOTICE_CATEGORY` (\n  `CODE` varchar(20) NOT NULL,\n  `NAME` varchar(50) NOT NULL,\n  `DESCRIPTION` varchar(500) DEFAULT NULL,\n  `CREATOR` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIER` varchar(50) NOT NULL DEFAULT 'SYSTEM',\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`CODE`)\n);\n\nCREATE TABLE `TBL_NOTICE` (\n  `ID` bigint(20) NOT NULL AUTO_INCREMENT,\n  `CATEGORY_CODE` varchar(20) NOT NULL,\n  `TITLE` varchar(50) NOT NULL,\n  `CONTENT` text NOT NULL,\n  `STATUS` varchar(10) NOT NULL,\n  `POST_START` date NOT NULL,\n  `POST_END` date NOT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`),\n  KEY `FK_NOTICE_CATEGORY_CODE` (`CATEGORY_CODE`),\n  CONSTRAINT `FK_NOTICE_CATEGORY_CODE` FOREIGN KEY (`CATEGORY_CODE`) REFERENCES `TBL_NOTICE_CATEGORY` (`CODE`)\n);\n\nCREATE TABLE `TBL_NOTICE_USER_HIDE_MAPPING` (\n  `NOTICE_ID` bigint(20) NOT NULL,\n  `USER_ID` varchar(50) NOT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`NOTICE_ID`,`USER_ID`),\n  KEY `FK_NOTICE_USER_HIDE_MAPPING_USER_ID` (`USER_ID`),\n  CONSTRAINT `FK_NOTICE_USER_HIDE_MAPPING_NOTICE_ID` FOREIGN KEY (`NOTICE_ID`) REFERENCES `TBL_NOTICE` (`ID`) ON DELETE CASCADE,\n  CONSTRAINT `FK_NOTICE_USER_HIDE_MAPPING_USER_ID` FOREIGN KEY (`USER_ID`) REFERENCES `TBL_USER` (`ID`) ON DELETE CASCADE\n);\n\nCREATE TABLE `TBL_NOTIFICATION_SLACK` (\n  `ID` int(11) NOT NULL AUTO_INCREMENT,\n  `TYPE` varchar(10) NOT NULL,\n  `NAME` varchar(50) NOT NULL,\n  `CHANNEL` varchar(100) NOT NULL,\n  `INFO` varchar(500) NOT NULL,\n  `CREATOR` varchar(50) NOT NULL,\n  `MODIFIER` varchar(50) NOT NULL,\n  `MODIFIED_AT` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n  `CREATED_AT` datetime NOT NULL DEFAULT current_timestamp(),\n  PRIMARY KEY (`ID`)\n);\n")))),(0,T.kt)("h2",{id:"\uae30\ubcf8-\ub370\uc774\ud130-insert"},"\uae30\ubcf8 \ub370\uc774\ud130 INSERT"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"DB\uc758 ",(0,T.kt)("inlineCode",{parentName:"li"},"aiip_integrated_db")," DATABASE\uc5d0 \uc811\uc18d \ud558\uc5ec \uae30\ubcf8 \ub370\uc774\ud130\ub97c INSERT \ud569\ub2c8\ub2e4.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-ddl"},"-- TBL_DOMAIN\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_COMMERCE', 'Commerce', 'Commerce');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_CONSTRUCTION', 'Construction', 'Construction');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_DISTRIBUTION', 'Distribution', 'Distribution');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_ENERGY', 'Energy', 'Energy');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_ENVIRONMENT', 'Environment', 'Environment');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_FINANCE', 'Finace', 'Finace');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_HEALTHCARE', 'Healthcare', 'Healthcare');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_HOUSING', 'Housing', 'Housing');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_ICT', 'ICT', 'ICT');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_LIFE', 'Life', 'Life');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_MANUFACTURING', 'Manufacturing', 'Manufacturing');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_MOBILITY', 'Mobility', 'Mobility');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_NONE', 'None', 'None');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_PUBLIC', 'Public', 'Public');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_TRADE', 'Trade', 'Trade');\nINSERT INTO `aiip_test`.`TBL_DOMAIN` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DM_VISION', 'Vision', 'Vision');\n-- TBL_NOTICE_CATEGORY\nINSERT INTO `aiip_test`.`TBL_NOTICE_CATEGORY` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('DEVELOP', '\uac1c\ubc1c', '\uac1c\ubc1c \uacf5\uc9c0\uc0ac\ud56d');\nINSERT INTO `aiip_test`.`TBL_NOTICE_CATEGORY` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('GENERAL', '\uc77c\ubc18', '\uc77c\ubc18 \uacf5\uc9c0\uc0ac\ud56d');\nINSERT INTO `aiip_test`.`TBL_NOTICE_CATEGORY` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('OPERATION', '\uc6b4\uc601', '\uc6b4\uc601 \uacf5\uc9c0\uc0ac\ud56d');\nINSERT INTO `aiip_test`.`TBL_NOTICE_CATEGORY` (`CODE`, `NAME`, `DESCRIPTION`) VALUES ('UPDATE', '\uc5c5\ub370\uc774\ud2b8', '\uc5c5\ub370\uc774\ud2b8 \uacf5\uc9c0\uc0ac\ud56d');\n-- TBL_RESOURCE\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`, `CPU`, `MEM`, `REPLICA`, `PRICE`, `INSTANCE`) VALUES ('LARGE', 'PROJECT', 'Large', '{\\\"cpu\\\":16,\\\"memory\\\":32}', '4', '18', '5', '0.3226USD/Hr', 'ml.t2.xlarge');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`) VALUES ('LARGE', 'RUNTIME', 'Large', '{\\\"cpu\\\":16,\\\"memory\\\":24}');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`) VALUES ('LARGE', 'SPARK', 'Large', '{\\\"driver\\\":{\\\"cpu\\\":3,\\\"memory\\\":1},\\\"executor\\\":{\\\"size\\\":6,\\\"cpu\\\":3,\\\"memory\\\":1}}');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`, `CPU`, `MEM`, `REPLICA`, `PRICE`, `INSTANCE`) VALUES ('MEDIUM', 'PROJECT', 'Medium', '{\\\"cpu\\\":8,\\\"memory\\\":16}', '2', '8', '7', '0.1613USD/Hr', 'ml.t2.large');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`) VALUES ('MEDIUM', 'RUNTIME', 'Medium', '{\\\"cpu\\\":12,\\\"memory\\\":20}');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`) VALUES ('MEDIUM', 'SPARK', 'Medium', '{\\\"driver\\\":{\\\"cpu\\\":2,\\\"memory\\\":1},\\\"executor\\\":{\\\"size\\\":3,\\\"cpu\\\":2,\\\"memory\\\":1}}');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`, `CPU`, `MEM`, `REPLICA`, `PRICE`, `INSTANCE`) VALUES ('SMALL', 'PROJECT', 'Small', '{\\\"cpu\\\":4,\\\"memory\\\":8}', '2', '4', '10', '0.0576USD/Hr', 'ml.t2.medium');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`) VALUES ('SMALL', 'RUNTIME', 'Small', '{\\\"cpu\\\":8,\\\"memory\\\":16}');\nINSERT INTO `aiip_test`.`TBL_RESOURCE` (`TYPE`, `TARGET`, `NAME`, `INFO`) VALUES ('SMALL', 'SPARK', 'Small', '{\\\"driver\\\":{\\\"cpu\\\":1,\\\"memory\\\":1},\\\"executor\\\":{\\\"size\\\":1,\\\"cpu\\\":1,\\\"memory\\\":1}}');\n-- TBL_ROLE\nINSERT INTO `aiip_test`.`TBL_ROLE` (`NAME`, `TITLE`, `ICON_NAME`, `DESCRIPTION`, `SCOPE_PROJECT`, `SCOPE_RESOURCE`, `SCOPE_WORKFLOW`, `SCOPE_USER`) VALUES ('Owner', '\uc624\ub108 (Owner)', 'icon-security', '\uc624\ub108\ub294 \ud504\ub85c\uc81d\ud2b8\uc758 \uad00\ub9ac\uc790\ub85c\uc11c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0dd\uc131\ub41c \uc6cc\ud06c\ud50c\ub85c\uc6b0 \ubc0f \ub9ac\uc18c\uc2a4 \uad00\ub9ac\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4. \ucd94\uac00\uc801\uc73c\ub85c \uc624\ub108\ub294 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ud3ec\ud568\ub41c \ud300\uc6d0\ub4e4\uc758 \uc5ed\ud560\uc744 \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.', 'CRUD', 'CRUD', 'CRUD', 'CRUD');\nINSERT INTO `aiip_test`.`TBL_ROLE` (`NAME`, `TITLE`, `ICON_NAME`, `DESCRIPTION`, `SCOPE_PROJECT`, `SCOPE_RESOURCE`, `SCOPE_WORKFLOW`, `SCOPE_USER`) VALUES ('Manager', '\ub9ac\uc18c\uc2a4 \uad00\ub9ac\uc790 (Resource Manager)', 'icon-settings', '\ub9ac\uc18c\uc2a4 \uad00\ub9ac\uc790\ub294 \ud504\ub85c\uc81d\ud2b8 Owner\uc640 \ud568\uaed8 \ud504\ub85c\uc81d\ud2b8 \ub9ac\uc18c\uc2a4\ub97c \uc81c\ud55c \ubc0f \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud504\ub85c\uc81d\ud2b8 \uc0ad\uc81c\ub97c \uc81c\uc678\ud55c \ub098\uba38\uc9c0 \uad8c\ud55c\uc740 Owner\uc640 \ub3d9\uc77c\ud569\ub2c8\ub2e4.', 'R', 'CRUD', 'CRUD', 'CRUD');\nINSERT INTO `aiip_test`.`TBL_ROLE` (`NAME`, `TITLE`, `ICON_NAME`, `DESCRIPTION`, `SCOPE_PROJECT`, `SCOPE_RESOURCE`, `SCOPE_WORKFLOW`, `SCOPE_USER`) VALUES ('Editor', '\uc5d0\ub514\ud130 (Editor)', 'icon-edit', '\uc5d0\ub514\ud130\ub294 \ud504\ub85c\uc81d\ud2b8\uc758 \uae30\ubcf8 \ud68c\uc6d0\uc73c\ub85c\uc11c \uc6cc\ud06c\ud50c\ub85c\uc6b0, AutoML, Sandbox \ub4f1 Accu. 3.0\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \ub2e4\uc591\ud55c \ubd84\uc11d \ud658\uacbd \uc18d\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ubd84\uc11d\ud558\uace0 \uacb0\uacfc\ubb3c\uc744 \ubc30\ud3ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.', 'R', 'R', 'CRUD', 'R');\nINSERT INTO `aiip_test`.`TBL_ROLE` (`NAME`, `TITLE`, `ICON_NAME`, `DESCRIPTION`, `SCOPE_PROJECT`, `SCOPE_RESOURCE`, `SCOPE_WORKFLOW`, `SCOPE_USER`) VALUES ('Viewer', '\ubdf0\uc5b4 (Viewer)', 'icon-view', '\ubdf0\uc5b4\ub294 \ud504\ub85c\uc81d\ud2b8\ub97c \uc870\ud68c\ud558\ub294 \ud68c\uc6d0\uc73c\ub85c\uc11c \ud504\ub85c\uc81d\ud2b8\uc5d0  \uc0dd\uc131\ub41c \uc6cc\ud06c\ud50c\ub85c\uc6b0\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e8, \uc6cc\ud06c\ud50c\ub85c\uc6b0\ub97c \uc0dd\uc131 \ud639\uc740 \uc218\uc815\ud558\ub294 \uad8c\ud55c\uc740 \uc5c6\uc2b5\ub2c8\ub2e4.', 'R', 'R', 'R', 'R');\n")))),(0,T.kt)("h2",{id:"pv-pvc-\uc124\uc815"},"PV, PVC \uc124\uc815"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"\uc544\ub798 \ub0b4\uc6a9\uc744 \ubcf5\uc0ac\ud558\uc5ec prod-pvc.yaml\uc744 \ub9cc\ub4e4\uace0 apply \ud558\uc138\uc694.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f prod-pvc.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: common-pv\n  namespace: aiip-common\nspec:\n  capacity:\n    storage: 5Gi\n  volumeMode: Filesystem\n  accessModes:\n    - ReadWriteMany\n  persistentVolumeReclaimPolicy: Retain\n  storageClassName: efs-sc\n  csi:\n    driver: efs.csi.aws.com\n    volumeHandle: fs-130b8973\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: common-efs\n  namespace: aiip-common\nspec:\n  accessModes:\n    - ReadWriteMany\n  storageClassName: efs-sc\n  volumeName: common-pv\n  resources:\n    requests:\n      storage: 5Gi\n")))),(0,T.kt)("h2",{id:"secret-\uc124\uc815"},"Secret \uc124\uc815"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"\uc544\ub798 \ub0b4\uc6a9\uc744 \ubcf5\uc0ac\ud558\uc5ec secret.yaml\uc744 \ub9cc\ub4e4\uace0 apply \ud558\uc138\uc694.",(0,T.kt)("ul",{parentName:"li"},(0,T.kt)("li",{parentName:"ul"},"data\uc758 \ub0b4\uc6a9\uc740 \uc2e4\uc81c \uc815\ubcf4\ub85c \ubcc0\uacbd\ud558\uc5ec \uc0ac\uc6a9 \ud558\uc138\uc694.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f secret.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: v1\nkind: Secret\nmetadata:\n  name: aiip-integrated-backend-secret\n  namespace: aiip-common\ntype: Opaque\ndata:\n  DB_HOST: YWlpcC1wcm9kLWRiLmNicWd1enRwZ3ZnZC5hcC1ub3J0aGVhc3QtMi5yZHMuYW1hem9uYXdzLmNvbQ==\n  BASE_DATABASE: YWlpcF9pbnRlZ3JhdGVkX2Ri\n  DB_USERNAME: YWRtaW4=\n  DB_PASSWORD: ZmF4SnVUWUVzS3U1VURSemR6amY=\n  RSA_PUBLIC_KEY: TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFuajlOQ2VaM2JoUlI0ZHZ1dk1pRTNlSXEyRCs0NG4zTUwzVUdtWHhib3BoanJHRVBMY3FLM3diMGVPd3F0R2J5TGd6VkwyUzdPSTBqV1REYzZJaURaamhmVnZ1QWtyczVlaU8wS21GTkRkVWR2QnVrMm9sbUc3Rlhka0JIbHpjNFduaWRrS1BOMTRRMW5VL0l0MWpHaGNGa2RjNDZLdytuSzhYY3hDaEFNK0p3UVVld1Q4Y09EQU9najdjZjFydzVQcGdvMXA1SVUrR0RpZ3VGTE1oUWZHRlAzQmhhK21DYk1xemFQZ1I4d2FkNFFONkZhS280ZFR4akRPVU51U0xzYUltZW5HNjY5SG1DMGRTdkdxNnVaa2wweDRpQkw4SzRuK0hzSjNVU2pDNFVFcy8zNTkzQlYrckg3ajZxYmtZVElyZ0RvSElUcHNXbmZFeHdja2JQbFFJREFRQUI=\n  SSO_ID: c3NvX2FkbWlu\n  SSO_PASSWORD: QWNjdVNzb0B2Mg==\n  SSO_SCOPE: c3NvOmFkbWlu\n  SSO_API: c3NvLWJhY2tlbmQ6NzA4MA==\n  BI_DB_USERNAME: Ymk=\n  BI_DB_PASSWORD: YmkxMjM0\n  BI_BASE_DATABASE: Yml0b29s\n")))))),(0,T.kt)("h2",{id:"configmap-\uc124\uc815"},"ConfigMap \uc124\uc815"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"\uc544\ub798 \ub0b4\uc6a9\uc744 \ubcf5\uc0ac\ud558\uc5ec config-map-prod.yaml\uc744 \ub9cc\ub4e4\uace0 apply \ud558\uc138\uc694.",(0,T.kt)("ul",{parentName:"li"},(0,T.kt)("li",{parentName:"ul"},"data\uc758 \ub0b4\uc6a9\uc740 \uc2e4\uc81c \uc815\ubcf4\ub85c \ubcc0\uacbd\ud558\uc5ec \uc0ac\uc6a9 \ud558\uc138\uc694.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f config-map-prod.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: aiip-integrated-backend-config\n  namespace: aiip-common\ndata:\n  ACCU_TUNING_API: "prod.accutuning.com:8000"\n  DOCKER_REPO_EMAIL: "noreply@accuinsight.com"\n  DOCKER_REPO_ENDPOINT: "866648864905.dkr.ecr.ap-northeast-2.amazonaws.com"\n  DOCKER_REPO_PASSWORD: "< /tmp/repository-key"\n  DOCKER_REPO_SECRET_PASSWORD: "require-password"\n  DOCKER_REPO_URI: "883545701064.dkr.ecr.ap-northeast-2.amazonaws.com"\n  DOCKER_REPO_USERNAME: "AWS"\n  MODELER_API: "modeler-api.aiip-modeler.svc.cluster.local:8080"\n  PIPELINE_API: "pipeline-backend-svc.aiip-pipeline.svc.cluster.local:8080"\n  RUNTIME_API: "core.aiip-runtime.svc.cluster.local:17005"\n  FILE_MANAGER_API: "core-file-manager.aiip-common.svc.cluster.local:7090"\n')))))),(0,T.kt)("h2",{id:"deployment"},"Deployment"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"\uc544\ub798 \ub0b4\uc6a9\uc744 \ubcf5\uc0ac\ud558\uc5ec k8s-deployment-prod-be.yaml, k8s-deployment-prod-ui.yaml\uc744 \ub9cc\ub4e4\uace0 apply \ud558\uc138\uc694.",(0,T.kt)("ul",{parentName:"li"},(0,T.kt)("li",{parentName:"ul"},"image\uc758 \ub0b4\uc6a9\uc740 \uc2e4\uc81c \uc815\ubcf4\ub85c \ubcc0\uacbd\ud558\uc5ec \uc0ac\uc6a9 \ud558\uc138\uc694.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f k8s-deployment-prod-be.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: aiip-integrated-backend\n  namespace: aiip-common\nspec:\n  selector:\n    matchLabels:\n      app: aiip-integrated-backend\n  replicas: 1\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 0\n  template:\n    metadata:\n      labels:\n        app: aiip-integrated-backend\n    spec:\n      volumes:\n        - name: efs\n          persistentVolumeClaim:\n            claimName: common-efs\n      containers:\n        - name: aiip-integrated-backend\n          image: harbor.accuinsight.net/aiip/aiip-integrated-backend:prod\n          imagePullPolicy: Always\n          volumeMounts:\n            - name: efs\n              mountPath: /livy-files\n          ports:\n            - containerPort: 8080\n              name: besvc\n          readinessProbe:\n            tcpSocket:\n              port: 8080\n          env:\n            - name: DB_HOST\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: DB_HOST\n            - name: BASE_DATABASE\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: BASE_DATABASE\n            - name: DB_USERNAME\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: DB_USERNAME\n            - name: DB_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: DB_PASSWORD\n            - name: RSA_PUBLIC_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: RSA_PUBLIC_KEY\n            - name: ACCU_TUNING_API\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: ACCU_TUNING_API\n            - name: PIPELINE_API\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: PIPELINE_API\n            - name: SSO_ID\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: SSO_ID\n            - name: SSO_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: SSO_PASSWORD\n            - name: SSO_SCOPE\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: SSO_SCOPE\n            - name: SSO_API\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: SSO_API\n            - name: DOCKER_REPO_ENDPOINT\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: DOCKER_REPO_ENDPOINT\n            - name: DOCKER_REPO_USERNAME\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: DOCKER_REPO_USERNAME\n            - name: DOCKER_REPO_SECRET_PASSWORD\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: DOCKER_REPO_SECRET_PASSWORD\n            - name: DOCKER_REPO_PASSWORD\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: DOCKER_REPO_PASSWORD\n            - name: DOCKER_REPO_EMAIL\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: DOCKER_REPO_EMAIL\n            - name: DOCKER_REPO_URI\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: DOCKER_REPO_URI\n            - name: MODELER_API\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: MODELER_API\n            - name: RUNTIME_API\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: RUNTIME_API\n            - name: FILE_MANAGER_API\n              valueFrom:\n                configMapKeyRef:\n                  name: aiip-integrated-backend-config\n                  key: FILE_MANAGER_API\n            - name: BI_DB_USERNAME\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: BI_DB_USERNAME\n            - name: BI_DB_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: BI_DB_PASSWORD\n            - name: BI_BASE_DATABASE\n              valueFrom:\n                secretKeyRef:\n                  name: aiip-integrated-backend-secret\n                  key: BI_BASE_DATABASE\n      imagePullSecrets:\n        - name: reg-secret\n      nodeSelector:\n        nodetype: master\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f k8s-deployment-prod-ui.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: aiip-integrated-ui\n  namespace: aiip-common\nspec:\n  selector:\n    matchLabels:\n      app: aiip-integrated-ui\n  replicas: 1\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 0\n  template:\n    metadata:\n      labels:\n        app: aiip-integrated-ui\n    spec:\n      containers:\n        - name: integrated-ui\n          image: harbor.accuinsight.net/aiip/aiip-integrated-ui:prod\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 80\n              name: svcport\n          readinessProbe:\n            tcpSocket:\n              port: 80\n      imagePullSecrets:\n        - name: reg-secret\n      nodeSelector:\n        nodetype: master\n")))))),(0,T.kt)("h2",{id:"service"},"Service"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},(0,T.kt)("p",{parentName:"li"},"\uc544\ub798 \ub0b4\uc6a9\uc744 \ubcf5\uc0ac\ud558\uc5ec k8s-service-prod-be.yaml, k8s-service-prod-ui.yaml\uc744 \ub9cc\ub4e4\uace0 apply \ud558\uc138\uc694."),(0,T.kt)("ul",{parentName:"li"},(0,T.kt)("li",{parentName:"ul"},(0,T.kt)("p",{parentName:"li"},"ClusterIP \uc0ac\uc6a9"),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f k8s-service-prod-be.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},"kind: Service\napiVersion: v1\nmetadata:\n  name: aiip-integrated-backend\n  namespace: aiip-common\n  labels:\n    app: aiip-integrated-backend\nspec:\n  ports:\n    - name: http\n      port: 80\n      targetPort: 8080\n  selector:\n    app: aiip-integrated-backend\n  type: ClusterIP\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f k8s-service-prod-ui.yaml\n")),(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-yaml"},"kind: Service\napiVersion: v1\nmetadata:\n  name: aiip-integrated-ui\n  namespace: aiip-common\n  labels:\n    app: aiip-integrated-ui\nspec:\n  ports:\n    - name: http\n      port: 80\n      targetPort: 80\n  selector:\n    app: aiip-integrated-ui\n  type: ClusterIP\n")),(0,T.kt)("div",{parentName:"li",className:"admonition admonition-info alert alert--info"},(0,T.kt)("div",{parentName:"div",className:"admonition-heading"},(0,T.kt)("h5",{parentName:"div"},(0,T.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,T.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,T.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,T.kt)("div",{parentName:"div",className:"admonition-content"},(0,T.kt)("p",{parentName:"div"},"ServiceTypes\uc73c\ub85c LoadBalancer\ub97c \uc0ac\uc6a9 \ud558\uc5ec ELB \uc8fc\uc18c(External IP)\ub97c \uc0dd\uc131\ud558\uba74 \ud574\ub2f9 ELB \uc8fc\uc18c\ub85c service \uc811\uc18d\uc774 \uac00\ub2a5 \ud569\ub2c8\ub2e4."))))))),(0,T.kt)("h2",{id:"\ubc30\ud3ec-\ud655\uc778"},"\ubc30\ud3ec \ud655\uc778"),(0,T.kt)("ul",null,(0,T.kt)("li",{parentName:"ul"},"\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 pod\uac00 \ubaa8\ub450 \uc0dd\uc131\ub418\uc5c8\ub098 \ud655\uc778\ud574 \ubcf4\uc138\uc694."),(0,T.kt)("li",{parentName:"ul"},"aiip-integrated-backend, aiip-integrated-ui \uc758 READE\uac00 1/1 \uc774\uba74 \uc815\uc0c1\uc785\ub2c8\ub2e4.",(0,T.kt)("pre",{parentName:"li"},(0,T.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl get pods -n aiip-common\n")))))}A.isMDXComponent=!0}}]);